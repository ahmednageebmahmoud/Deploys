(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"W/pb":function(e,r,t){"use strict";t.r(r),t.d(r,"FreightsModule",function(){return ie});var i=t("FcD6"),o=t("IPVz"),c=t("NqkH"),f=t("8Y7J"),l=t("qB6b"),s=t("s7LF"),m=t("QVRC"),a=t("hLCK"),n=t("iInd"),b=t("H5vj");let u=(()=>{class e{constructor(e,r){this.router=e,this.http=r,this.clinets=[],this.states=[],this.allStates=[],this.cities=[],this.freightPorts=[],this.arrivalPorts=[],this.carSizes=l.a,this.formSubmitError=!1,this.isRequestingToServer=!1,this.carPicture={},this.defaultImageUrl="/assets/img/car_default_img.jpg",this.onDeletedItem=new f.n,this.form=new s.g({}),this.filterForm=new s.g({}),this.freightsSelected=[]}closeModel(){this.formSubmitError=!1,this.form.reset(),this.router.navigate(["/freights"])}initForm(){this.form=new s.g({_id:new s.e,userId:new s.e(null,[s.p.required]),carMark:new s.e(null,[s.p.required]),freightCaseId:new s.e(null,[s.p.required]),buySourceId:new s.e(null,[s.p.required]),freightStateId:new s.e(null,[s.p.required]),cityId:new s.e(null,[s.p.required]),carSizeId:new s.e(null,[s.p.required]),freightPortId:new s.e(null,[s.p.required]),navigationalWayeId:new s.e(null),arrivalPortId:new s.e(null),carBodyNumber:new s.e(null,[s.p.required]),notes:new s.e(null),containerId:new s.e(null),carPrice:new s.e(0,[s.p.required,m.a.invalidNumber]),landFreightPrice:new s.e(0,[s.p.required,m.a.invalidNumber]),maritimeFreightPrice:new s.e(0,[s.p.required,m.a.invalidNumber]),commissionPurchase:new s.e(0,[s.p.required,m.a.invalidNumber]),commissionTransfare:new s.e(0,[s.p.required,m.a.invalidNumber]),swift:new s.e(0,[s.p.required,m.a.invalidNumber]),sellPrice:new s.e(0,[s.p.required,m.a.invalidNumber]),auctionFines:new s.e(0,[s.p.required,m.a.invalidNumber]),storeFines:new s.e(0,[s.p.required,m.a.invalidNumber]),titel:new s.e(0,[s.p.required,m.a.invalidNumber]),differenceTitel:new s.e(0,[s.p.required,m.a.invalidNumber]),landCost:new s.e(0,[s.p.required,m.a.invalidNumber]),maritimeCost:new s.e(0,[s.p.required,m.a.invalidNumber]),arrivalDate:new s.e(null),refranceNumber:new s.e(null),carPicture:new s.e(null),lotOrStock:new s.e(0,[s.p.required,m.a.invalidNumber]),trackLink:new s.e(null,[m.a.invalidUrl])}),this.disapledControls(),this.form.controls.freightPortId.valueChanges.subscribe(e=>{this.updateMaritimFreightPrices(),this.loadStates()}),this.form.controls.carSizeId.valueChanges.subscribe(e=>this.updateMaritimFreightPrices()),this.form.controls.freightStateId.valueChanges.subscribe(e=>{this.loadStateCities(e)}),this.form.controls.cityId.valueChanges.subscribe(e=>{this.updateLandFreightPrices()}),this.formSubmitError=!1,this.isRequestingToServer=!1}initDeleteForm(){this.form=new s.g({_id:new s.e(null,s.p.required),refranceNumber:new s.e(null,s.p.required),clinetName:new s.e(null,s.p.required)}),this.form.disable()}initFilterForm(){this.filterForm=new s.g({clinetName:new s.e,carMark:new s.e,freightCaseId:new s.e,buySourceId:new s.e,freightStateId:new s.e,cityId:new s.e,carSizeId:new s.e,freightPortId:new s.e,navigationalWayeId:new s.e,arrivalPortId:new s.e,carBodyNumber:new s.e,refranceNumber:new s.e,createdDate:new s.e}),this.filterForm.controls.freightStateId.valueChanges.subscribe(e=>{this.loadStateCities(e)})}disapledControls(){this.form.controls.landFreightPrice.disable(),this.form.controls.maritimeFreightPrice.disable(),this.form.controls.refranceNumber.disable()}getItems(e){let r=e?[e]:["clinets","freightCases","buySources","containers","states","ports","navigationalWayes"];this.http.getSelectItems(r).subscribe(e=>{e.isSuccess&&r.forEach(r=>{"ports"==r?(this.freightPorts=e.result.ports.filter(e=>+e.portType==o.a.freight),this.arrivalPorts=e.result.ports.filter(e=>+e.portType==o.a.arrival)):"states"==r?(this.allStates=e.result.states,this.loadStates()):this[r]=e.result[r]}),c.a.showResponseMessage(e)},e=>{c.a.canRequestError(e)})}loadStates(e=this.form.controls.freightPortId.value){this.states=[],e&&this.allStates.length&&(this.states=this.allStates.filter(r=>r.freightPortId==e)),this.loadStateCities()}loadStateCities(e=this.form.controls.freightStateId.value){var r;this.cities=[],this.states.length&&e&&(this.cities=(null===(r=this.states.find(r=>r._id==e))||void 0===r?void 0:r.cities)||[]),this.updateLandFreightPrices()}updateLandFreightPrices(e=this.form.controls.cityId.value){let r=0;if(e&&this.cities.length){let e=this.cities.find(e=>e._id==this.form.controls.cityId.value);r=+(null==e?void 0:e.landFreightPrice)}this.form.controls.landFreightPrice.setValue(r||0)}updateMaritimFreightPrices(){if(!this.form.controls.carSizeId.value||!this.form.controls.freightPortId.value)return;let e=this.freightPorts.find(e=>e._id==this.form.controls.freightPortId.value);this.form.controls.carSizeId.value==a.a.small&&this.form.controls.maritimeFreightPrice.setValue(+e.maritimeFreightPriceToSmallCar||0),this.form.controls.carSizeId.value==a.a.medium&&this.form.controls.maritimeFreightPrice.setValue(+e.maritimeFreightPriceToMediumCar||0),this.form.controls.carSizeId.value==a.a.big&&this.form.controls.maritimeFreightPrice.setValue(+e.maritimeFreightPriceToBigCar||0)}selectFreight(e){e.IsSelected=!e.IsSelected,e.IsSelected?this.freightsSelected.push(e):this.freightsSelected.splice(this.freightsSelected.findIndex(r=>r._id==e._id),1)}}return e.\u0275fac=function(r){return new(r||e)(f.Pb(n.c),f.Pb(b.a))},e.\u0275prov=f.Eb({token:e,factory:e.\u0275fac}),e})();var d=t("iY+S"),h=t("J4aQ"),g=t("C2k8"),p=t("nTwK"),S=t("Dqz8"),v=t("Qcqt"),y=t("mJLk"),E=t("TXz5"),I=t("SVse");function w(e,r){if(1&e&&f.Jb(0,"div",58),2&e){const e=f.Wb();f.dc("title",e.u.r.loadingData)}}let L=(()=>{class e extends d.a{constructor(e,r,t,i,o){super(),this.u=e,this.seo=r,this.http=t,this.activateRouter=i,this.freightService=o,this.titleResourcesKey="editFreight"}ngOnInit(){this.freightService.initForm(),this.freightService.form.disable(),this.seo.updateSEO(this.titleResourcesKey),this.freightService.getItems(),this.freightService.form.controls._id.setValue(this.activateRouter.snapshot.params.targetId),this.getFreightToUpdate(),this.freightService.defaultImageUrl="assets/img/car_default_img.jpg",this.freightService.isCreate=!1}getFreightToUpdate(){this.http.getFreightToUpdate(this.freightService.form.controls._id.value).subscribe(e=>{e.isSuccess?(this.freightService.form.setValue(e.result),this.freightService.form.enable(),this.freightService.disapledControls(),this.freightService.carPicture={url:e.result.carPicture}):c.a.showResponseMessage(e)},e=>{c.a.canRequestError(e)})}onSubmit(){if(this.freightService.form.invalid)return void(this.freightService.formSubmitError=!0);this.freightService.isRequestingToServer=!0,this.freightService.formSubmitError=!1;let e=new FormData;e.append("values",JSON.stringify(this.freightService.form.getRawValue())),e.append("carPicture",this.freightService.carPicture.file),this.freightService.form.disable(),this.allSubscriptions.push(this.http.updateFreight(e).subscribe(e=>{this.freightService.isRequestingToServer=!1,c.a.showResponseMessage(e),this.freightService.form.enable(),e.isSuccess&&(this.freightService.carPicture.file=null)},e=>{this.freightService.form.enable(),this.freightService.isRequestingToServer=!1,c.a.canRequestError(e)}))}}return e.\u0275fac=function(r){return new(r||e)(f.Ib(h.a),f.Ib(g.a),f.Ib(b.a),f.Ib(n.a),f.Ib(u))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-edit-freight"]],features:[f.vb],decls:62,vars:114,consts:[["novalidate","","autocomplete","off",1,"account-settings-container","layout-top-spacing",3,"formGroup","submit"],[1,"account-content"],["data-spy","scroll","data-target","#account-settings-scroll","data-offset","-100",1,"scrollspy-example"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","layout-spacing"],[1,"section"],[1,"info"],[1,"",3,"innerHtml"],[1,"col-lg-11","mx-auto"],[1,"freightService.form"],[1,"form-group","d-flex","justify-content-center"],[1,"form-group"],["deopify","",1,"dropify-wrapper","has-preview",3,"title","onSelectFiles"],[1,"dropify-preview",2,"display","block"],[1,"dropify-render"],[3,"src"],[1,"dropify-infos"],[1,"dropify-infos-inner"],[1,"dropify-filename"],[1,"file-icon"],[1,"dropify-filename-inner",3,"innerHtml"],[1,"dropify-infos-message",3,"innerHtml"],[1,"mt-2"],[1,"flaticon-cloud-upload","mr-1"],["app-select-input","","fcn","userId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","carMark",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","carBodyNumber",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","lotOrStock",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","buySourceId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","carSizeId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightPortId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightStateId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","cityId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightCaseId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","landFreightPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError","isShowAllowEditButton"],["app-text-input","","fcn","maritimeFreightPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError","isShowAllowEditButton"],["app-text-input","","fcn","landCost",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","maritimeCost",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","carPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","sellPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","commissionPurchase",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","auctionFines",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","storeFines",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","titel",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","differenceTitel",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","swift",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","commissionTransfare",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","containerId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","navigationalWayeId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","trackLink",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-date-input","","fcn","arrivalDate",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","arrivalPortId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","refranceNumber",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-big-input","","fcn","notes",1,"col-sm-12","mb-6","form-group",3,"form","lable","formSubmitError"],[1,"account-settings-footer"],[1,"as-footer-container","d-flex","justify-content-end"],["id","multiple-messages","type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-grow text-white mr-2 align-self-center loader-sm",3,"title",4,"ngIf"],[1,"spinner-grow","text-white","mr-2","align-self-center","loader-sm",3,"title"]],template:function(e,r){1&e&&(f.Lb(0,"form",0),f.Sb("submit",function(){return r.onSubmit()}),f.Lb(1,"div",1),f.Lb(2,"div",2),f.Lb(3,"div",3),f.Lb(4,"div",4),f.Lb(5,"div",5),f.Lb(6,"div",6),f.Jb(7,"h6",7),f.Lb(8,"div",3),f.Lb(9,"div",8),f.Lb(10,"div",9),f.Lb(11,"div",10),f.Lb(12,"div",11),f.Lb(13,"div",12),f.Sb("onSelectFiles",function(e){return r.freightService.carPicture=e[0]}),f.Lb(14,"div",13),f.Lb(15,"span",14),f.Jb(16,"img",15),f.Kb(),f.Lb(17,"div",16),f.Lb(18,"div",17),f.Lb(19,"p",18),f.Jb(20,"span",19),f.Jb(21,"span",20),f.Kb(),f.Jb(22,"p",21),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Lb(23,"label",22),f.Jb(24,"i",23),f.qc(25),f.Kb(),f.Kb(),f.Kb(),f.Lb(26,"div",3),f.Lb(27,"div",24),f.Sb("onReloadItems",function(){return r.freightService.getItems("clinets")}),f.Kb(),f.Jb(28,"div",25),f.Jb(29,"div",26),f.Jb(30,"div",27),f.Lb(31,"div",28),f.Sb("onReloadItems",function(){return r.freightService.getItems("buySources")}),f.Kb(),f.Lb(32,"div",29),f.Sb("onReloadItems",function(){return r.freightService.getItems("carSizes")}),f.Kb(),f.Lb(33,"div",30),f.Sb("onReloadItems",function(){return r.freightService.getItems("ports")}),f.Kb(),f.Lb(34,"div",31),f.Sb("onReloadItems",function(){return r.freightService.getItems("states")}),f.Kb(),f.Lb(35,"div",32),f.Sb("onReloadItems",function(){return r.freightService.getItems("states")}),f.Kb(),f.Lb(36,"div",33),f.Sb("onReloadItems",function(){return r.freightService.getItems("freightCases")}),f.Kb(),f.Jb(37,"div",34),f.Jb(38,"div",35),f.Jb(39,"div",36),f.Jb(40,"div",37),f.Jb(41,"div",38),f.Jb(42,"div",39),f.Jb(43,"div",40),f.Jb(44,"div",41),f.Jb(45,"div",42),f.Jb(46,"div",43),f.Jb(47,"div",44),f.Jb(48,"div",45),f.Jb(49,"div",46),f.Lb(50,"div",47),f.Sb("onReloadItems",function(){return r.freightService.getItems("containers")}),f.Kb(),f.Lb(51,"div",48),f.Sb("onReloadItems",function(){return r.freightService.getItems("navigationalWaye")}),f.Kb(),f.Jb(52,"div",49),f.Jb(53,"div",50),f.Lb(54,"div",51),f.Sb("onReloadItems",function(){return r.freightService.getItems("ports")}),f.Kb(),f.Jb(55,"div",52),f.Jb(56,"div",53),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Lb(57,"div",54),f.Lb(58,"div",55),f.Lb(59,"button",56),f.qc(60),f.oc(61,w,1,1,"div",57),f.Kb(),f.Kb(),f.Kb(),f.Kb()),2&e&&(f.Ab("form-submited",r.freightService.formSubmitError),f.dc("formGroup",r.freightService.form),f.yb(7),f.dc("innerHtml",r.u.r[r.titleResourcesKey],f.lc),f.yb(6),f.dc("title",r.u.r.clickOrDargAndDrop),f.yb(3),f.dc("src",(null==r.freightService.carPicture?null:r.freightService.carPicture.url)||r.freightService.defaultImageUrl,f.mc),f.yb(5),f.dc("innerHtml",null==r.freightService.carPicture.file?null:r.freightService.carPicture.file.name,f.lc),f.yb(1),f.dc("innerHtml",r.u.r.clickOrDargAndDrop,f.lc),f.yb(3),f.sc(" ",r.u.r.carPicture,""),f.yb(2),f.dc("list",r.freightService.clinets)("form",r.freightService.form)("lable",r.u.r.clinet)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carMark)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carBodyNumber)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.lotOrStock)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.buySources)("form",r.freightService.form)("lable",r.u.r.buySource)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.carSizes)("form",r.freightService.form)("lable",r.u.r.carSize)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.freightPorts)("form",r.freightService.form)("lable",r.u.r.freightPort)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.states)("form",r.freightService.form)("lable",r.u.r.freightState)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.cities)("form",r.freightService.form)("lable",r.u.r.city)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.freightCases)("form",r.freightService.form)("lable",r.u.r.freightCase)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.landFreightPrice)("formSubmitError",r.freightService.formSubmitError)("isShowAllowEditButton",!0),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.maritimeFreightPrice)("formSubmitError",r.freightService.formSubmitError)("isShowAllowEditButton",!0),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.landCost)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.maritimeCost)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carPrice)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.sellPrice)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.commissionPurchase)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.auctionFines)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.storeFines)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.title)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.differenceTitle)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.swift)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.commissionTransfare)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.containers)("form",r.freightService.form)("lable",r.u.r.container)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.navigationalWayes)("form",r.freightService.form)("lable",r.u.r.navigationalWaye)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.trackLink)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.arrivalDate)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.arrivalPorts)("form",r.freightService.form)("lable",r.u.r.arrivalPort)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.refranceNumber)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.notes)("formSubmitError",r.freightService.formSubmitError),f.yb(3),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(1),f.sc(" ",r.u.r.saveChange," "),f.yb(1),f.dc("ngIf",r.freightService.isRequestingToServer))},directives:[s.r,s.k,s.h,p.a,S.a,v.a,y.a,E.a,I.l],encapsulation:2}),e})();function x(e,r){1&e&&f.Jb(0,"div",16)}let K=(()=>{class e extends d.a{constructor(e,r,t,i){super(),this.u=e,this.freightService=r,this.http=t,this.activateRouter=i}ngOnInit(){this.freightService.initDeleteForm(),this.freightService.form.controls._id.setValue(this.activateRouter.snapshot.params.targetId),history.state.deletingRefranceNumber?(this.freightService.form.controls.refranceNumber.setValue(history.state.deletingRefranceNumber),this.freightService.form.controls.clinetName.setValue(history.state.deletingClinetName),history.state.deletingRefranceNumber=null,history.state.deletingClinetName=null):this.getFreightToDelete()}getFreightToDelete(){this.freightService.isRequestingToServer=!0,this.allSubscriptions.push(this.http.getFreightToDelete(this.activateRouter.snapshot.params.targetId).subscribe(e=>{this.freightService.isRequestingToServer=!1,e.isSuccess?(this.freightService.form.controls.refranceNumber.setValue(e.result.refranceNumber),this.freightService.form.controls.clinetName.setValue(e.result.clinetName)):c.a.showResponseMessage(e)},e=>{this.freightService.isRequestingToServer=!1,c.a.canRequestError(e)}))}onSubmit(){this.freightService.form.invalid?this.freightService.formSubmitError=!0:(this.freightService.isRequestingToServer=!0,this.allSubscriptions.push(this.http.deleteFreight(this.freightService.form.value).subscribe(e=>{c.a.showResponseMessage(e),this.freightService.isRequestingToServer=!1,e.isSuccess&&(this.freightService.onDeletedItem.emit(this.activateRouter.snapshot.params.targetId),this.freightService.closeModel())},e=>{this.freightService.isRequestingToServer=!1,c.a.canRequestError(e)})))}}return e.\u0275fac=function(r){return new(r||e)(f.Ib(h.a),f.Ib(u),f.Ib(b.a),f.Ib(n.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-delete-freight"]],features:[f.vb],decls:18,vars:15,consts:[["tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["novalidate","",3,"formGroup","submit"],[1,"modal-body"],[1,"form-row","mb-2"],[1,"form-group"],[1,"text-center",3,"innerHtml"],["app-text-input","","fcn","clinetName",1,"col-sm-12","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","refranceNumber",1,"col-sm-12","mb-6","form-group",3,"form","lable","formSubmitError"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-danger",3,"disabled"],["class","spinner-grow text-white mr-2 align-self-center loader-sm",4,"ngIf"],[1,"btn","btn-outline-warning",3,"disabled","click"],[1,"flaticon-cancel-12"],[1,"modal-backdrop","fade","show"],[1,"spinner-grow","text-white","mr-2","align-self-center","loader-sm"]],template:function(e,r){1&e&&(f.Lb(0,"div",0),f.Lb(1,"div",1),f.Lb(2,"div",2),f.Lb(3,"form",3),f.Sb("submit",function(){return r.onSubmit()}),f.Lb(4,"div",4),f.Lb(5,"div",5),f.Lb(6,"div",6),f.Jb(7,"h4",7),f.Kb(),f.Jb(8,"div",8),f.Jb(9,"div",9),f.Kb(),f.Kb(),f.Lb(10,"div",10),f.Lb(11,"button",11),f.qc(12),f.oc(13,x,1,0,"div",12),f.Kb(),f.Lb(14,"button",13),f.Sb("click",function(){return r.freightService.closeModel()}),f.Jb(15,"i",14),f.qc(16),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Jb(17,"div",15)),2&e&&(f.yb(3),f.Ab("form-submited",r.freightService.formSubmitError),f.dc("formGroup",r.freightService.form),f.yb(4),f.dc("innerHtml",r.u.r.areYouSureToDeleteThe,f.lc),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.clinetName)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.refranceNumber)("formSubmitError",r.freightService.formSubmitError),f.yb(2),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(1),f.sc(" ",r.u.r.yesDelete," "),f.yb(1),f.dc("ngIf",r.freightService.isRequestingToServer),f.yb(1),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(2),f.sc("",r.u.r.cancel," "))},directives:[s.r,s.k,s.h,v.a,I.l],encapsulation:2}),e})();var T=t("RL+I"),J=t("kbE0"),R=t("mdKN"),N=t("Ajrf"),P=t("O0Z9"),F=t("ePWN");function k(e,r){if(1&e&&f.Jb(0,"div",50),2&e){const e=f.Wb();f.dc("title",e.u.r.loadingData)}}function q(e,r){1&e&&f.Jb(0,"div",61)}const C=function(e){return["/financialTransfers","payAmount",e]};function D(e,r){if(1&e&&(f.Lb(0,"a",69),f.Jb(1,"i",73),f.qc(2),f.Kb()),2&e){const e=f.Wb(2).$implicit,r=f.Wb();f.dc("routerLink",f.gc(3,C,e._id))("title",r.u.r.paymentAmount),f.yb(2),f.sc(" ",r.u.r.paymentAmount," ")}}const M=function(e){return["/freights","edit",e]};function W(e,r){if(1&e&&(f.Lb(0,"a",69),f.Jb(1,"i",74),f.qc(2),f.Kb()),2&e){const e=f.Wb(2).$implicit,r=f.Wb();f.dc("routerLink",f.gc(3,M,e._id))("title",r.u.r.edit),f.yb(2),f.sc(" ",r.u.r.edit," ")}}const _=function(e){return["/freights","delete",e]},z=function(e,r){return{deletingRefranceNumber:e,deletingClinetName:r}};function B(e,r){if(1&e&&(f.Lb(0,"a",75),f.Jb(1,"i",76),f.qc(2),f.Kb()),2&e){const e=f.Wb(2).$implicit,r=f.Wb();f.dc("routerLink",f.gc(4,_,e._id))("state",f.hc(6,z,e.refranceNumber,e.clinetName))("title",r.u.r.delete),f.yb(2),f.sc(" ",r.u.r.delete," ")}}const A=function(e){return["/reports","freights","fullDetails",e]},O=function(e){return["/financialTransfers","details",e]};function j(e,r){if(1&e&&(f.Lb(0,"div",62),f.Lb(1,"a",63),f.Vb(),f.Lb(2,"svg",64),f.Jb(3,"circle",65),f.Jb(4,"circle",66),f.Jb(5,"circle",67),f.Kb(),f.Kb(),f.Ub(),f.Lb(6,"div",68),f.Lb(7,"a",69),f.Jb(8,"i",70),f.qc(9),f.Kb(),f.Lb(10,"a",69),f.Jb(11,"i",70),f.qc(12),f.Kb(),f.oc(13,D,3,5,"a",71),f.oc(14,W,3,5,"a",71),f.oc(15,B,3,9,"a",72),f.Kb(),f.Kb()),2&e){const e=f.Wb().$implicit,r=f.Wb();f.yb(7),f.dc("routerLink",f.gc(9,A,e._id))("title",r.u.r.fullDetails),f.yb(2),f.sc(" ",r.u.r.fullDetails," "),f.yb(1),f.dc("routerLink",f.gc(11,O,e._id))("title",r.u.r.transferDetails),f.yb(2),f.sc(" ",r.u.r.transferDetails," "),f.yb(1),f.dc("ngIf",!e.actionDisapled),f.yb(1),f.dc("ngIf",!e.actionDisapled),f.yb(1),f.dc("ngIf",!e.actionDisapled)}}const V=function(e){return{"table-info":e}};function H(e,r){if(1&e){const e=f.Mb();f.Lb(0,"tr",51),f.Lb(1,"td",52),f.oc(2,q,1,0,"div",53),f.oc(3,j,16,13,"div",54),f.Kb(),f.Lb(4,"td",55),f.Sb("click",function(){f.kc(e);const t=r.$implicit;return f.Wb().freightService.selectFreight(t)}),f.Lb(5,"div",56),f.Lb(6,"label",57),f.Lb(7,"input",58),f.Sb("ngModelChange",function(e){return r.$implicit.IsSelected=e}),f.Kb(),f.Jb(8,"span",59),f.qc(9),f.Kb(),f.Kb(),f.Kb(),f.Jb(10,"td",6),f.Jb(11,"td",6),f.Xb(12,"date"),f.Jb(13,"td",6),f.Jb(14,"td",6),f.Lb(15,"td"),f.Jb(16,"a",60),f.Kb(),f.Jb(17,"td",6),f.Jb(18,"td",6),f.Jb(19,"td",6),f.Jb(20,"td",6),f.Jb(21,"td",6),f.Jb(22,"td",6),f.Xb(23,"currency"),f.Jb(24,"td",6),f.Xb(25,"currency"),f.Jb(26,"td",6),f.Xb(27,"currency"),f.Jb(28,"td",6),f.Jb(29,"td",6),f.Jb(30,"td",6),f.Jb(31,"td",6),f.Xb(32,"date"),f.Kb()}if(2&e){const e=r.$implicit,t=f.Wb();f.dc("ngClass",f.gc(36,V,e.IsSelected)),f.yb(2),f.dc("ngIf",e.actionDisapled),f.yb(1),f.dc("ngIf",!e.actionDisapled),f.yb(4),f.dc("ngModel",e.IsSelected),f.yb(2),f.sc("",e.IsSelected?t.u.r.unSelect:t.u.r.select," "),f.yb(1),f.dc("innerText",e.clinetName),f.yb(1),f.dc("innerText",f.Yb(12,23,e.createdDate)),f.yb(2),f.dc("innerText",e.refranceNumber),f.yb(1),f.dc("innerText",e.carMark),f.yb(2),f.dc("routerLink",f.gc(38,A,e._id))("innerText",e.carBodyNumber),f.yb(1),f.dc("innerText",e.freightCaseName),f.yb(1),f.dc("innerText",e.buySourceName),f.yb(1),f.dc("innerText",e.freightStateName),f.yb(1),f.dc("innerText",e.freightPortName),f.yb(1),f.dc("innerText",e.carSizeName),f.yb(1),f.dc("innerText",f.Zb(23,25,e.landFreightPrice," ")),f.yb(2),f.dc("innerText",f.Zb(25,28,e.landCost," ")),f.yb(2),f.dc("innerText",f.Zb(27,31,e.maritimeFreightPrice," ")),f.yb(2),f.dc("innerText",e.containerName||""),f.yb(1),f.dc("innerText",e.navigationalWayeName||""),f.yb(1),f.dc("innerText",e.arrivalPortName||""),f.yb(1),f.dc("innerText",f.Yb(32,34,e.arrivalDate))}}const G=function(){return["/freights","addToContainer"]};let U=(()=>{class e extends d.a{constructor(e,r,t,i){super(),this.u=e,this.seo=r,this.freightService=t,this.http=i,this.skip=0,this.limit=50,this.entries=[],this.fop=new T.a}ngOnInit(){this.freightService.initFilterForm(),this.seo.updateSEO("freights"),this.getEntiries(!0),this.freightService.freightsSelected=[],this.freightService.getItems(),this.allSubscriptions.push(this.freightService.onDeletedItem.subscribe(e=>{let r=this.entries.findIndex(r=>r._id==e);r>=0&&(this.entries.splice(r,1),this.fop=new T.a(this.fop.fieldNames,this.entries.length))}))}getEntiries(e){e&&(this.skip=0,this.entries=[],this.fop=new T.a(this.fop.fieldNames,this.entries.length)),this.fop.paging.isRequestingToServer=!0,this.allSubscriptions.push(this.http.getFreights(this.skip,this.limit,this.freightService.filterForm.value).subscribe(e=>{e.noMoreOfResult&&(this.fop.paging.disableGetMoreButton=!0),this.fop.paging.isRequestingToServer=!1,e.isSuccess?(this.entries=[...this.entries,...e.result],this.fop=new T.a(this.fop.fieldNames,this.entries.length),this.skip+=this.limit):c.a.showResponseMessage(e)},e=>{c.a.canRequestError(e),this.fop.paging.isRequestingToServer=!1},()=>{this.fop.paging.isRequestingToServer=!1}))}funTrack(e,r){return null==r?void 0:r._id}}return e.\u0275fac=function(r){return new(r||e)(f.Ib(h.a),f.Ib(g.a),f.Ib(u),f.Ib(b.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-freight"]],features:[f.vb],decls:85,vars:100,consts:[[1,"row","layout-top-spacing"],[1,"col-lg-12"],[1,"statbox","widget"],[1,"widget-header"],[1,"row"],[1,"col-xl-12","col-md-12","col-sm-12","col-12"],[3,"innerText"],[1,"widget-content","widget-content-area"],["novalidate","",3,"formGroup","submit"],["app-text-input","","fcn","clinetName",1,"col-sm-4","col-md-3","mb-6","form-group",3,"form","lable"],["app-text-input","","fcn","refranceNumber",1,"col-sm-4","col-md-3","mb-6","form-group",3,"form","lable"],["app-text-input","","fcn","carMark",1,"col-sm-4","col-md-3","mb-6","form-group",3,"form","lable"],["app-text-input","","fcn","carBodyNumber",1,"col-sm-4","col-md-3","mb-6","form-group",3,"form","lable"],["app-select-input","","fcn","freightCaseId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","buySourceId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","freightStateId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","freightPortId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","navigationalWayeId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","carSizeId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-select-input","","fcn","arrivalPortId",1,"col-sm-4","col-md-3","mb-6","form-group",3,"list","form","lable","isNoReload"],["app-date-input","","fcn","createdDate",1,"col-sm-4","col-md-3","mb-6","form-group",3,"form","lable"],[1,"form-group","mb-2","d-flex","justify-content-end"],["type","submit",1,"btn","btn-lg","btn-secondary","mb-3","mr-3",3,"disabled"],["class","spinner-grow text-white mr-2 align-self-center loader-sm",3,"title",4,"ngIf"],["type","reset","type","button",1,"btn","btn-warning","btn-lg","mb-3","mr-3",3,"innerText","disabled"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-dark","m-2",3,"routerLink","innerText"],["tableId","allFreights",3,"se`archText"],[1,"row","table-responsive","mb-4"],["id","allFreights",1,"table","table-hover"],[1,"th-5",3,"innerText"],["filedName","clinetName",3,"fop","fieldText"],["filedName","createdDate",3,"fop","fieldText"],["filedName","refranceNumber",3,"fop","fieldText"],["filedName","carMark",3,"fop","fieldText"],["filedName","carBodyNumber",3,"fop","fieldText"],["filedName","freightCaseName",3,"fop","fieldText"],["filedName","buySourceName",3,"fop","fieldText"],["filedName","freightStateName",3,"fop","fieldText"],["filedName","freightPortName",3,"fop","fieldText"],["filedName","carSizeName",3,"fop","fieldText"],["filedName","landFreightPrice",3,"fop","fieldText"],["filedName","landCost",3,"fop","fieldText"],["filedName","maritimeFreightPrice",3,"fop","fieldText"],["filedName","containerName",3,"fop","fieldText"],["filedName","navigationalWayeName",3,"fop","fieldText"],["filedName","arrivalPortName",3,"fop","fieldText"],["filedName","arrivalDate",3,"fop","fieldText"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"fop","getMoreItems"],[1,"spinner-grow","text-white","mr-2","align-self-center","loader-sm",3,"title"],[3,"ngClass"],[2,"display","inline-flex"],["class","spinner-grow text-danger align-self-center loader-sm",4,"ngIf"],["class","dropdown dropup custom-dropdown-icon    ",4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"n-chk"],[1,"new-control","new-checkbox","checkbox-outline-default"],["type","checkbox","disabled","",1,"new-control-input",3,"ngModel","ngModelChange"],[1,"new-control-indicator"],[1,"link",3,"routerLink","innerText"],[1,"spinner-grow","text-danger","align-self-center","loader-sm"],[1,"dropdown","dropup","custom-dropdown-icon"],["href","#","role","button","id","dropdownMenuLink-3","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-more-vertical"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["aria-labelledby","dropdownMenuLink-3",1,"dropdown-menu","dropdown-menu-right",2,"will-change","transform"],[1,"dropdown-item","mr-2",3,"routerLink","title"],[1,"fas","fa-print","fa-1-5x"],["class","dropdown-item mr-2",3,"routerLink","title",4,"ngIf"],["class","dropdown-item mr-2",3,"routerLink","state","title",4,"ngIf"],[1,"fas","fa-hand-holding-usd","fa-1-5x","jumb-animation"],[1,"far","fa-edit","fa-1-5x","jumb-animation"],[1,"dropdown-item","mr-2",3,"routerLink","state","title"],[1,"far","fa-trash-alt","fa-1-5x","jumb-animation"]],template:function(e,r){1&e&&(f.Lb(0,"div",0),f.Lb(1,"div",1),f.Lb(2,"div",2),f.Lb(3,"div",3),f.Lb(4,"div",4),f.Lb(5,"div",5),f.Jb(6,"h4",6),f.Kb(),f.Kb(),f.Kb(),f.Lb(7,"div",7),f.Lb(8,"form",8),f.Sb("submit",function(){return r.getEntiries(!0)}),f.Lb(9,"div",4),f.Jb(10,"div",9),f.Jb(11,"div",10),f.Jb(12,"div",11),f.Jb(13,"div",12),f.Jb(14,"div",13),f.Jb(15,"div",14),f.Jb(16,"div",15),f.Jb(17,"div",16),f.Jb(18,"div",17),f.Jb(19,"div",18),f.Jb(20,"div",19),f.Jb(21,"div",20),f.Kb(),f.Lb(22,"div",21),f.Lb(23,"button",22),f.qc(24),f.oc(25,k,1,1,"div",23),f.Kb(),f.Jb(26,"button",24),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Lb(27,"div",0),f.Lb(28,"div",1),f.Lb(29,"div",2),f.Lb(30,"div",3),f.Lb(31,"div",25),f.Lb(32,"div"),f.Jb(33,"h4",6),f.Kb(),f.Lb(34,"div"),f.Jb(35,"a",26),f.Kb(),f.Kb(),f.Kb(),f.Lb(36,"div",7),f.Lb(37,"fop-header",27),f.Sb("se`archText",function(e){return r.fopSearch=e}),f.Kb(),f.Lb(38,"div",28),f.Lb(39,"table",29),f.Lb(40,"thead"),f.Lb(41,"tr"),f.Jb(42,"th",30),f.Jb(43,"th",6),f.Lb(44,"th"),f.Jb(45,"fop-sort",31),f.Kb(),f.Lb(46,"th"),f.Jb(47,"fop-sort",32),f.Kb(),f.Lb(48,"th"),f.Jb(49,"fop-sort",33),f.Kb(),f.Lb(50,"th"),f.Jb(51,"fop-sort",34),f.Kb(),f.Lb(52,"th"),f.Jb(53,"fop-sort",35),f.Kb(),f.Lb(54,"th"),f.Jb(55,"fop-sort",36),f.Kb(),f.Lb(56,"th"),f.Jb(57,"fop-sort",37),f.Kb(),f.Lb(58,"th"),f.Jb(59,"fop-sort",38),f.Kb(),f.Lb(60,"th"),f.Jb(61,"fop-sort",39),f.Kb(),f.Lb(62,"th"),f.Jb(63,"fop-sort",40),f.Kb(),f.Lb(64,"th"),f.Jb(65,"fop-sort",41),f.Kb(),f.Lb(66,"th"),f.Jb(67,"fop-sort",42),f.Kb(),f.Lb(68,"th"),f.Jb(69,"fop-sort",43),f.Kb(),f.Lb(70,"th"),f.Jb(71,"fop-sort",44),f.Kb(),f.Lb(72,"th"),f.Jb(73,"fop-sort",45),f.Kb(),f.Lb(74,"th"),f.Jb(75,"fop-sort",46),f.Kb(),f.Lb(76,"th"),f.Jb(77,"fop-sort",47),f.Kb(),f.Kb(),f.Kb(),f.Lb(78,"tbody"),f.oc(79,H,33,40,"tr",48),f.Xb(80,"slice"),f.Xb(81,"fopSortPipe"),f.Xb(82,"fopFilterPipe"),f.Kb(),f.Kb(),f.Kb(),f.Lb(83,"fop-paging",49),f.Sb("getMoreItems",function(){return r.getEntiries(!1)}),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Jb(84,"router-outlet")),2&e&&(f.yb(6),f.dc("innerText",r.u.r.filterIn+" "+r.u.r.freights),f.yb(2),f.dc("formGroup",r.freightService.filterForm),f.yb(2),f.dc("form",r.freightService.filterForm)("lable",r.u.r.clinetName),f.yb(1),f.dc("form",r.freightService.filterForm)("lable",r.u.r.refranceNumber),f.yb(1),f.dc("form",r.freightService.filterForm)("lable",r.u.r.carMark),f.yb(1),f.dc("form",r.freightService.filterForm)("lable",r.u.r.carBodyNumber),f.yb(1),f.dc("list",r.freightService.freightCases)("form",r.freightService.filterForm)("lable",r.u.r.freightCase)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.buySources)("form",r.freightService.filterForm)("lable",r.u.r.buySource)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.states)("form",r.freightService.filterForm)("lable",r.u.r.freightState)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.freightPorts)("form",r.freightService.filterForm)("lable",r.u.r.freightPort)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.navigationalWayes)("form",r.freightService.filterForm)("lable",r.u.r.navigationalWaye)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.carSizes)("form",r.freightService.filterForm)("lable",r.u.r.carSize)("isNoReload",!0),f.yb(1),f.dc("list",r.freightService.arrivalPorts)("form",r.freightService.filterForm)("lable",r.u.r.arrivalPort)("isNoReload",!0),f.yb(1),f.dc("form",r.freightService.filterForm)("lable",r.u.r.createdDate),f.yb(2),f.dc("disabled",r.fop.paging.isRequestingToServer),f.yb(1),f.sc(" ",r.u.r.search," "),f.yb(1),f.dc("ngIf",r.fop.paging.isRequestingToServer),f.yb(1),f.dc("innerText",r.u.r.cancel)("disabled",r.fop.paging.isRequestingToServer),f.yb(7),f.dc("innerText",r.u.r.freights),f.yb(2),f.dc("routerLink",f.fc(99,G))("innerText",r.u.r.addFreightsSelectedToContainer),f.yb(7),f.dc("innerText",r.u.r.actions),f.yb(1),f.dc("innerText",r.u.r.select),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.clinet),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.trnasactionDate),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.refranceNumber),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.carMark),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.carBodyNumber),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.freightCase),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.buySource),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.freightState),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.freightPort),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.carSize),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.landFreightPrice),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.landCost),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.maritimeFreightPrice),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.container),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.navigationalWaye),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.arrivalPort),f.yb(2),f.dc("fop",r.fop)("fieldText",r.u.r.arrivalDate),f.yb(2),f.dc("ngForOf",f.ac(80,87,f.ac(81,91,f.ac(82,95,r.entries,r.fopSearch,r.fop),r.fop.sort.fieldName,r.fop.sort.reverse),r.fop.paging.pagingLimt.skip,r.fop.paging.pagingLimt.take))("ngForTrackBy",r.funTrack),f.yb(4),f.dc("fop",r.fop))},directives:[s.r,s.k,s.h,v.a,S.a,y.a,I.l,n.d,J.a,R.a,I.k,N.a,n.f,I.j,s.a,s.j,s.l],pipes:[I.o,P.a,F.a,I.e,I.c],encapsulation:2}),e})();var X=t("QZpK");function Y(e,r){if(1&e&&f.Jb(0,"div",58),2&e){const e=f.Wb();f.dc("title",e.u.r.loadingData)}}let $=(()=>{class e extends d.a{constructor(e,r,t,i,o){super(),this.u=e,this.seo=r,this.freightService=t,this.router=i,this.sweetAlertService=o,this.titleResourcesKey="createANewFreight"}ngOnInit(){this.seo.updateSEO(this.titleResourcesKey),this.freightService.getItems(),this.freightService.initForm(),this.freightService.defaultImageUrl="assets/img/car_default_img.jpg",this.freightService.isCreate=!1}onSubmit(){if(this.freightService.form.invalid)return void(this.freightService.formSubmitError=!0);this.freightService.isRequestingToServer=!0,this.freightService.formSubmitError=!1;let e=new FormData;e.append("values",JSON.stringify(this.freightService.form.getRawValue())),e.append("carPicture",this.freightService.carPicture.file),this.freightService.form.disable(),this.allSubscriptions.push(this.freightService.http.createNewFreight(e).subscribe(e=>{c.a.showResponseMessage(e),e.isSuccess&&(this.freightService.form.reset(),this.freightService.isRequestingToServer=!1,this.freightService.form.enable(),this.freightService.disapledControls(),this.sweetAlertService.confirm(this.u.r.doYouWantEditCreatedItem,this.u.r.goToEdit,this.u.r.createNew).then(()=>{this.router.navigate(["/freights","edit",e.result._id])}))},e=>{this.freightService.form.enable(),this.freightService.isRequestingToServer=!1,c.a.canRequestError(e)}))}}return e.\u0275fac=function(r){return new(r||e)(f.Ib(h.a),f.Ib(g.a),f.Ib(u),f.Ib(n.c),f.Ib(X.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-create-freight"]],features:[f.vb],decls:62,vars:114,consts:[["novalidate","","autocomplete","off",1,"account-settings-container","layout-top-spacing",3,"formGroup","submit"],[1,"account-content"],["data-spy","scroll","data-target","#account-settings-scroll","data-offset","-100",1,"scrollspy-example"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","layout-spacing"],[1,"section"],[1,"info"],[1,"",3,"innerHtml"],[1,"col-lg-11","mx-auto"],[1,"freightService.form"],[1,"form-group","d-flex","justify-content-center"],[1,"form-group"],["deopify","",1,"dropify-wrapper","has-preview",3,"title","onSelectFiles"],[1,"dropify-preview",2,"display","block"],[1,"dropify-render"],[3,"src"],[1,"dropify-infos"],[1,"dropify-infos-inner"],[1,"dropify-filename"],[1,"file-icon"],[1,"dropify-filename-inner",3,"innerHtml"],[1,"dropify-infos-message",3,"innerHtml"],[1,"mt-2"],[1,"flaticon-cloud-upload","mr-1"],["app-select-input","","fcn","userId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","carMark",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","carBodyNumber",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","lotOrStock",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","buySourceId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","carSizeId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightPortId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightStateId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","cityId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","freightCaseId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","landFreightPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError","isShowAllowEditButton"],["app-text-input","","fcn","maritimeFreightPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError","isShowAllowEditButton"],["app-text-input","","fcn","landCost",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","maritimeCost",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","carPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","sellPrice",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","commissionPurchase",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","auctionFines",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","storeFines",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","titel",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","differenceTitel",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","swift",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-input","","fcn","commissionTransfare",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","containerId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-select-input","","fcn","navigationalWayeId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","trackLink",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-date-input","","fcn","arrivalDate",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-select-input","","fcn","arrivalPortId",1,"col-sm-6","col-md-4","mb-6","form-group",3,"list","form","lable","formSubmitError","onReloadItems"],["app-text-input","","fcn","refranceNumber",1,"col-sm-6","col-md-4","mb-6","form-group",3,"form","lable","formSubmitError"],["app-text-big-input","","fcn","notes",1,"col-sm-12","mb-6","form-group",3,"form","lable","formSubmitError"],[1,"account-settings-footer"],[1,"as-footer-container","d-flex","justify-content-end"],["id","multiple-messages","type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-grow text-white mr-2 align-self-center loader-sm",3,"title",4,"ngIf"],[1,"spinner-grow","text-white","mr-2","align-self-center","loader-sm",3,"title"]],template:function(e,r){1&e&&(f.Lb(0,"form",0),f.Sb("submit",function(){return r.onSubmit()}),f.Lb(1,"div",1),f.Lb(2,"div",2),f.Lb(3,"div",3),f.Lb(4,"div",4),f.Lb(5,"div",5),f.Lb(6,"div",6),f.Jb(7,"h6",7),f.Lb(8,"div",3),f.Lb(9,"div",8),f.Lb(10,"div",9),f.Lb(11,"div",10),f.Lb(12,"div",11),f.Lb(13,"div",12),f.Sb("onSelectFiles",function(e){return r.freightService.carPicture=e[0]}),f.Lb(14,"div",13),f.Lb(15,"span",14),f.Jb(16,"img",15),f.Kb(),f.Lb(17,"div",16),f.Lb(18,"div",17),f.Lb(19,"p",18),f.Jb(20,"span",19),f.Jb(21,"span",20),f.Kb(),f.Jb(22,"p",21),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Lb(23,"label",22),f.Jb(24,"i",23),f.qc(25),f.Kb(),f.Kb(),f.Kb(),f.Lb(26,"div",3),f.Lb(27,"div",24),f.Sb("onReloadItems",function(){return r.freightService.getItems("clinets")}),f.Kb(),f.Jb(28,"div",25),f.Jb(29,"div",26),f.Jb(30,"div",27),f.Lb(31,"div",28),f.Sb("onReloadItems",function(){return r.freightService.getItems("buySources")}),f.Kb(),f.Lb(32,"div",29),f.Sb("onReloadItems",function(){return r.freightService.getItems("carSizes")}),f.Kb(),f.Lb(33,"div",30),f.Sb("onReloadItems",function(){return r.freightService.getItems("ports")}),f.Kb(),f.Lb(34,"div",31),f.Sb("onReloadItems",function(){return r.freightService.getItems("states")}),f.Kb(),f.Lb(35,"div",32),f.Sb("onReloadItems",function(){return r.freightService.getItems("states")}),f.Kb(),f.Lb(36,"div",33),f.Sb("onReloadItems",function(){return r.freightService.getItems("freightCases")}),f.Kb(),f.Jb(37,"div",34),f.Jb(38,"div",35),f.Jb(39,"div",36),f.Jb(40,"div",37),f.Jb(41,"div",38),f.Jb(42,"div",39),f.Jb(43,"div",40),f.Jb(44,"div",41),f.Jb(45,"div",42),f.Jb(46,"div",43),f.Jb(47,"div",44),f.Jb(48,"div",45),f.Jb(49,"div",46),f.Lb(50,"div",47),f.Sb("onReloadItems",function(){return r.freightService.getItems("containers")}),f.Kb(),f.Lb(51,"div",48),f.Sb("onReloadItems",function(){return r.freightService.getItems("navigationalWaye")}),f.Kb(),f.Jb(52,"div",49),f.Jb(53,"div",50),f.Lb(54,"div",51),f.Sb("onReloadItems",function(){return r.freightService.getItems("ports")}),f.Kb(),f.Jb(55,"div",52),f.Jb(56,"div",53),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Lb(57,"div",54),f.Lb(58,"div",55),f.Lb(59,"button",56),f.qc(60),f.oc(61,Y,1,1,"div",57),f.Kb(),f.Kb(),f.Kb(),f.Kb()),2&e&&(f.Ab("form-submited",r.freightService.formSubmitError),f.dc("formGroup",r.freightService.form),f.yb(7),f.dc("innerHtml",r.u.r[r.titleResourcesKey],f.lc),f.yb(6),f.dc("title",r.u.r.clickOrDargAndDrop),f.yb(3),f.dc("src",(null==r.freightService.carPicture?null:r.freightService.carPicture.url)||r.freightService.defaultImageUrl,f.mc),f.yb(5),f.dc("innerHtml",null==r.freightService.carPicture.file?null:r.freightService.carPicture.file.name,f.lc),f.yb(1),f.dc("innerHtml",r.u.r.clickOrDargAndDrop,f.lc),f.yb(3),f.sc(" ",r.u.r.carPicture,""),f.yb(2),f.dc("list",r.freightService.clinets)("form",r.freightService.form)("lable",r.u.r.clinet)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carMark)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carBodyNumber)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.lotOrStock)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.buySources)("form",r.freightService.form)("lable",r.u.r.buySource)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.carSizes)("form",r.freightService.form)("lable",r.u.r.carSize)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.freightPorts)("form",r.freightService.form)("lable",r.u.r.freightPort)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.states)("form",r.freightService.form)("lable",r.u.r.freightState)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.cities)("form",r.freightService.form)("lable",r.u.r.city)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.freightCases)("form",r.freightService.form)("lable",r.u.r.freightCase)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.landFreightPrice)("formSubmitError",r.freightService.formSubmitError)("isShowAllowEditButton",!0),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.maritimeFreightPrice)("formSubmitError",r.freightService.formSubmitError)("isShowAllowEditButton",!0),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.landCost)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.maritimeCost)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.carPrice)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.sellPrice)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.commissionPurchase)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.auctionFines)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.storeFines)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.title)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.differenceTitle)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.swift)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.commissionTransfare)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.containers)("form",r.freightService.form)("lable",r.u.r.container)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.navigationalWayes)("form",r.freightService.form)("lable",r.u.r.navigationalWaye)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.trackLink)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.arrivalDate)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("list",r.freightService.arrivalPorts)("form",r.freightService.form)("lable",r.u.r.arrivalPort)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.refranceNumber)("formSubmitError",r.freightService.formSubmitError),f.yb(1),f.dc("form",r.freightService.form)("lable",r.u.r.notes)("formSubmitError",r.freightService.formSubmitError),f.yb(3),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(1),f.sc(" ",r.u.r.saveChange," "),f.yb(1),f.dc("ngIf",r.freightService.isRequestingToServer))},directives:[s.r,s.k,s.h,p.a,S.a,v.a,y.a,E.a,I.l],encapsulation:2}),e})();var Z=t("FIK1");function Q(e,r){1&e&&f.Jb(0,"div",13)}const ee=[{path:"",component:U,children:[{path:"delete/:targetId",component:K},{path:"addToContainer",component:(()=>{class e extends d.a{constructor(e,r,t,i){super(),this.u=e,this.freightService=r,this.http=t,this.activateRouter=i}ngOnInit(){this.freightService.freightsSelected.length||(c.a.showResponseMessage({responseType:Z.a.error,message:this.u.r.youMustSelectFreightsFirst}),this.freightService.closeModel()),this.freightService.getItems("containers"),this.freightService.form=new s.g({containerId:new s.e(null,s.p.required)})}onSubmit(){this.freightService.form.invalid?this.freightService.formSubmitError=!0:(this.freightService.isRequestingToServer=!0,this.allSubscriptions.push(this.freightService.http.moveFreightsToContainer(this.freightService.form.controls.containerId.value,this.freightService.freightsSelected.map(e=>e._id)).subscribe(e=>{if(c.a.showResponseMessage(e),this.freightService.isRequestingToServer=!1,e.isSuccess){let e=this.freightService.containers.find(e=>e._id==this.freightService.form.controls.containerId.value).name;this.freightService.freightsSelected.forEach(r=>{r.IsSelected=!1,r.containerName=e}),this.freightService.freightsSelected=[],this.freightService.closeModel()}},e=>{this.freightService.isRequestingToServer=!1,c.a.canRequestError(e)})))}}return e.\u0275fac=function(r){return new(r||e)(f.Ib(h.a),f.Ib(u),f.Ib(b.a),f.Ib(n.a))},e.\u0275cmp=f.Cb({type:e,selectors:[["app-add-freights-to-container"]],features:[f.vb],decls:15,vars:12,consts:[["tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","false",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["novalidate","",3,"formGroup","submit"],[1,"modal-body"],[1,"form-row","mb-2"],["app-select-input","","fcn","containerId",1,"form-group","col",3,"list","form","lable","formSubmitError","onReloadItems"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["class","spinner-grow text-white mr-2 align-self-center loader-sm",4,"ngIf"],[1,"btn","btn-outline-warning",3,"disabled","click"],[1,"flaticon-cancel-12"],[1,"modal-backdrop","fade","show"],[1,"spinner-grow","text-white","mr-2","align-self-center","loader-sm"]],template:function(e,r){1&e&&(f.Lb(0,"div",0),f.Lb(1,"div",1),f.Lb(2,"div",2),f.Lb(3,"form",3),f.Sb("submit",function(){return r.onSubmit()}),f.Lb(4,"div",4),f.Lb(5,"div",5),f.Lb(6,"div",6),f.Sb("onReloadItems",function(){return r.freightService.getItems("containers")}),f.Kb(),f.Kb(),f.Kb(),f.Lb(7,"div",7),f.Lb(8,"button",8),f.qc(9),f.oc(10,Q,1,0,"div",9),f.Kb(),f.Lb(11,"button",10),f.Sb("click",function(){return r.freightService.closeModel()}),f.Jb(12,"i",11),f.qc(13),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Jb(14,"div",12)),2&e&&(f.yb(3),f.Ab("form-submited",r.freightService.formSubmitError),f.dc("formGroup",r.freightService.form),f.yb(3),f.dc("list",r.freightService.containers)("form",r.freightService.form)("lable",r.u.r.selectTheContainerYouWnatMove+" "+r.freightService.freightsSelected.length+" "+r.u.r.freightsToIt)("formSubmitError",r.freightService.formSubmitError),f.yb(2),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(1),f.sc(" ",r.u.r.saveChange," "),f.yb(1),f.dc("ngIf",r.freightService.isRequestingToServer),f.yb(1),f.dc("disabled",r.freightService.isRequestingToServer),f.yb(2),f.sc("",r.u.r.cancel," "))},directives:[s.r,s.k,s.h,S.a,I.l],encapsulation:2}),e})()}]},{path:"create",component:$},{path:"edit/:targetId",component:L}];let re=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(r){return new(r||e)},imports:[[n.e.forChild(ee)],n.e]}),e})();var te=t("5Uro");let ie=(()=>{class e{}return e.\u0275mod=f.Gb({type:e}),e.\u0275inj=f.Fb({factory:function(r){return new(r||e)},providers:[u],imports:[[te.a,re,i.a]]}),e})()}}]);